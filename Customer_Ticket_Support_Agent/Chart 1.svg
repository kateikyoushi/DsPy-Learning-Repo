<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="936px" preserveAspectRatio="none" style="width:556px;height:936px;background:#FFFFFF;" version="1.1" viewBox="0 0 556 936" width="556px" zoomAndPan="magnify"><title>Cebu Pacific Support Agent: DSPy Optimization Pipeline</title><defs/><g><rect fill="#FFFFCC" height="26.6406" rx="2.5" ry="2.5" style="stroke:#FFDD88;stroke-width:3;" width="545.8823" x="5" y="5"/><text fill="#000000" font-family="monospace" font-size="10" lengthAdjust="spacing" textLength="355.21" x="10" y="20">Please&#160;use&#160;'!option&#160;handwritten&#160;true'&#160;to&#160;enable&#160;handwritten</text><g class="title" data-source-line="10"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="443.1123" x="47.885" y="69.6357">Cebu Pacific Support Agent: DSPy Optimization Pipeline</text></g><rect fill="none" height="204.0781" style="stroke:#000000;stroke-width:1.5;" width="458.4507" x="16.6816" y="84.9375"/><path d="M162.8467,84.9375 L162.8467,94.2344 L152.8467,104.2344 L16.6816,104.2344" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.165" x="19.6816" y="98.9326">1. Problem &amp; Setup</text><path d="M240.0488,114.2344 L240.0488,130.3672 L220.0488,134.3672 L240.0488,138.3672 L240.0488,154.5 A0,0 0 0 0 240.0488,154.5 L465.1323,154.5 A0,0 0 0 0 465.1323,154.5 L465.1323,124.2344 L455.1323,114.2344 L240.0488,114.2344 A0,0 0 0 0 240.0488,114.2344" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M455.1323,114.2344 L455.1323,124.2344 L465.1323,124.2344 L455.1323,114.2344" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.0835" x="246.0488" y="131.3013">"Flight delayed, need refund..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.4487" x="246.0488" y="146.4341">(Unstructured text)</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="187.6367" x="32.4121" y="117.3828"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167.6367" x="42.4121" y="138.5215">Input: Messy Support Ticket</text><path d="M245.7793,164.5 L245.7793,188.1992 L225.7793,192.1992 L245.7793,196.1992 L245.7793,219.8984 A0,0 0 0 0 245.7793,219.8984 L404.46,219.8984 A0,0 0 0 0 404.46,219.8984 L404.46,174.5 L394.46,164.5 L245.7793,164.5 A0,0 0 0 0 245.7793,164.5" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M394.46,164.5 L394.46,174.5 L404.46,174.5 L394.46,164.5" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.6729" x="251.7793" y="181.5669">Generic instructions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.6807" x="251.7793" y="196.6997">Time: 5.0 mins/ticket</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.8589" x="251.7793" y="211.8325">Quality: 26%</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="199.0977" x="26.6816" y="175.2148"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179.0977" x="36.6816" y="196.3535">Baseline Agent (Unoptimized)</text><path d="M216.79,236.75 L216.79,252.8828 L196.79,256.8828 L216.79,260.8828 L216.79,277.0156 A0,0 0 0 0 216.79,277.0156 L393.79,277.0156 A0,0 0 0 0 393.79,277.0156 L393.79,246.75 L383.79,236.75 L216.79,236.75 A0,0 0 0 0 216.79,236.75" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M383.79,236.75 L383.79,246.75 L393.79,246.75 L383.79,236.75" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="222.79" y="253.8169">LLM: Groq Llama-3.1-8b</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.0161" x="222.79" y="268.9497">Tracker: MLflow</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="141.1191" x="55.6709" y="239.8984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121.1191" x="65.6709" y="261.0371">Setup Infrastructure</text><rect fill="none" height="351.8828" style="stroke:#000000;stroke-width:1.5;" width="519.8823" x="11" y="299.0156"/><path d="M244.5967,299.0156 L244.5967,308.3125 L234.5967,318.3125 L11,318.3125" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.5967" x="14" y="313.0107">2. Optimization Loop (MIPROv2)</text><path d="M196.1328,335.1641 L196.1328,351.2969 L176.1328,355.2969 L196.1328,359.2969 L196.1328,375.4297 A0,0 0 0 0 196.1328,375.4297 L429.6714,375.4297 A0,0 0 0 0 429.6714,375.4297 L429.6714,345.1641 L419.6714,335.1641 L196.1328,335.1641 A0,0 0 0 0 196.1328,335.1641" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M419.6714,335.1641 L419.6714,345.1641 L429.6714,345.1641 L419.6714,335.1641" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.5386" x="202.1328" y="352.231">50 Successful resolutions (Train)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.1699" x="202.1328" y="367.3638">20 Test scenarios (Val)</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="99.8047" x="76.3281" y="338.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="79.8047" x="86.3281" y="359.4512">Load Dataset</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="169.332" x="41.5645" y="395.4297"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149.332" x="51.5645" y="416.5684">Start MIPROv2 Optimizer</text><rect fill="none" height="199.5" style="stroke:#000000;stroke-width:1.5;" width="499.8823" x="21" y="439.3984"/><path d="M202.7188,439.3984 L202.7188,448.6953 L192.7188,458.6953 L21,458.6953" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.7188" x="24" y="453.3936">Automated Optimization</text><path d="M239.8496,475.5469 L239.8496,491.6797 L219.8496,495.6797 L239.8496,499.6797 L239.8496,515.8125 A0,0 0 0 0 239.8496,515.8125 L447.0962,515.8125 A0,0 0 0 0 447.0962,515.8125 L447.0962,485.5469 L437.0962,475.5469 L239.8496,475.5469 A0,0 0 0 0 239.8496,475.5469" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M437.0962,475.5469 L437.0962,485.5469 L447.0962,485.5469 L437.0962,475.5469" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.2119" x="245.8496" y="492.6138">Finds best past tickets</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.2466" x="245.8496" y="507.7466">to use as few-shot examples</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="187.2383" x="32.6113" y="478.6953"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167.2383" x="42.6113" y="499.834">Step 1: Bootstrap Examples</text><path d="M240.7432,532.6641 L240.7432,548.7969 L220.7432,552.7969 L240.7432,556.7969 L240.7432,572.9297 A0,0 0 0 0 240.7432,572.9297 L510.8823,572.9297 A0,0 0 0 0 510.8823,572.9297 L510.8823,542.6641 L500.8823,532.6641 L240.7432,532.6641 A0,0 0 0 0 240.7432,532.6641" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M500.8823,532.6641 L500.8823,542.6641 L510.8823,542.6641 L500.8823,532.6641" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.9585" x="246.7432" y="549.731">Generates new prompts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.1392" x="246.7432" y="564.8638">(e.g. "Be empathetic", "Step-by-step")</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="189.0254" x="31.7178" y="535.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169.0254" x="41.7178" y="556.9512">Step 2: Propose Instructions</text><path d="M241.4609,597.3477 L241.4609,605.9141 L221.4609,609.9141 L241.4609,613.9141 L241.4609,622.4805 A0,0 0 0 0 241.4609,622.4805 L390.4106,622.4805 A0,0 0 0 0 390.4106,622.4805 L390.4106,607.3477 L380.4106,597.3477 L241.4609,597.3477 A0,0 0 0 0 241.4609,597.3477" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M380.4106,597.3477 L380.4106,607.3477 L390.4106,607.3477 L380.4106,597.3477" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.9497" x="247.4609" y="614.4146">Score using custom</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="190.4609" x="31" y="592.9297"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170.4609" x="41" y="614.0684">Step 3: Evaluate Candidates</text><rect fill="none" height="264.8984" style="stroke:#000000;stroke-width:1.5;" width="445.376" x="32.9355" y="660.8984"/><path d="M180.1602,660.8984 L180.1602,670.1953 L170.1602,680.1953 L32.9355,680.1953" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.2246" x="35.9355" y="674.8936">3. Results &amp; Impact</text><path d="M209.6006,697.0469 L209.6006,713.1797 L189.6006,717.1797 L209.6006,721.1797 L209.6006,737.3125 A0,0 0 0 0 209.6006,737.3125 L406.1895,737.3125 A0,0 0 0 0 406.1895,737.3125 L406.1895,707.0469 L396.1895,697.0469 L209.6006,697.0469 A0,0 0 0 0 209.6006,697.0469" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M396.1895,697.0469 L396.1895,707.0469 L406.1895,707.0469 L396.1895,697.0469" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.0244" x="215.6006" y="714.1138">Optimized Instructions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.5889" x="215.6006" y="729.2466">+ Best Few-Shot Examples</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="126.7402" x="62.8604" y="700.1953"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106.7402" x="72.8604" y="721.334">Select Best Agent</text><path d="M217.7422,754.1641 L217.7422,770.2969 L197.7422,774.2969 L217.7422,778.2969 L217.7422,794.4297 A0,0 0 0 0 217.7422,794.4297 L468.3115,794.4297 A0,0 0 0 0 468.3115,794.4297 L468.3115,764.1641 L458.3115,754.1641 L217.7422,754.1641 A0,0 0 0 0 217.7422,754.1641" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M458.3115,754.1641 L458.3115,764.1641 L468.3115,764.1641 L458.3115,754.1641" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7393" x="223.7422" y="771.231">Time: 0.5 mins/ticket (90% faster)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.5693" x="223.7422" y="786.3638">Quality: 72% (+46% improvement)</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="143.0234" x="54.7188" y="757.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123.0234" x="64.7188" y="778.4512">Run Final Evaluation</text><path d="M225.1865,804.4297 L225.1865,828.1289 L205.1865,832.1289 L225.1865,836.1289 L225.1865,859.8281 A0,0 0 0 0 225.1865,859.8281 L425.457,859.8281 A0,0 0 0 0 425.457,859.8281 L425.457,814.4297 L415.457,804.4297 L225.1865,804.4297 A0,0 0 0 0 225.1865,804.4297" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><path d="M415.457,804.4297 L415.457,814.4297 L425.457,814.4297 L415.457,804.4297" fill="#FFF9C4" style="stroke:#FBC02D;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.2705" x="231.1865" y="821.4966">Daily Time Saved: 75 hours</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.6504" x="231.1865" y="836.6294">Annual Savings: $821,250</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.9556" x="231.1865" y="851.7622">ROI: ~800,000x</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="157.9121" x="47.2744" y="815.1445"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137.9121" x="57.2744" y="836.2832">Calculate Business ROI</text><rect fill="#F0F4F8" height="33.9688" rx="12.5" ry="12.5" style="stroke:#2C3E50;stroke-width:0.5;" width="166.5898" x="42.9355" y="879.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146.5898" x="52.9355" y="900.9668">Deploy Optimized Agent</text><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="151.3516" y2="175.2148"/><polygon fill="#333333" points="122.2305,165.2148,126.2305,175.2148,130.2305,165.2148,126.2305,169.2148" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="209.1836" y2="239.8984"/><polygon fill="#333333" points="122.2305,229.8984,126.2305,239.8984,130.2305,229.8984,126.2305,233.8984" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="372.2813" y2="395.4297"/><polygon fill="#333333" points="122.2305,385.4297,126.2305,395.4297,130.2305,385.4297,126.2305,389.4297" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="512.6641" y2="535.8125"/><polygon fill="#333333" points="122.2305,525.8125,126.2305,535.8125,130.2305,525.8125,126.2305,529.8125" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="569.7813" y2="592.9297"/><polygon fill="#333333" points="122.2305,582.9297,126.2305,592.9297,130.2305,582.9297,126.2305,586.9297" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="429.3984" y2="478.6953"/><polygon fill="#333333" points="122.2305,468.6953,126.2305,478.6953,130.2305,468.6953,126.2305,472.6953" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="273.8672" y2="338.3125"/><polygon fill="#333333" points="122.2305,328.3125,126.2305,338.3125,130.2305,328.3125,126.2305,332.3125" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="734.1641" y2="757.3125"/><polygon fill="#333333" points="122.2305,747.3125,126.2305,757.3125,130.2305,747.3125,126.2305,751.3125" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="791.2813" y2="815.1445"/><polygon fill="#333333" points="122.2305,805.1445,126.2305,815.1445,130.2305,805.1445,126.2305,809.1445" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="849.1133" y2="879.8281"/><polygon fill="#333333" points="122.2305,869.8281,126.2305,879.8281,130.2305,869.8281,126.2305,873.8281" style="stroke:#333333;stroke-width:1;"/><line style="stroke:#333333;stroke-width:1;" x1="126.2305" x2="126.2305" y1="626.8984" y2="700.1953"/><polygon fill="#333333" points="122.2305,690.1953,126.2305,700.1953,130.2305,690.1953,126.2305,694.1953" style="stroke:#333333;stroke-width:1;"/><!--SRC=[VLHTSzf847pdLqoHE86AKMHX4aT-Cc2bgC9dplZkDRL80snvjRlPNO6vAzzllz5AzecF72-0UZJTqpsxzebBpGpBOS7IfvLHXSn6IYW3spLtsB9l-9h9R6kuSoXXoOHjOdRDChNbSdM4t1YZjbN3Ttt_QOAfunlkTiC3wdT9c5mcLwSgbSdGr5NHg7yx21jLloc7nxsIvDleyh2gsISPZi9et6evxWJ221S5p5ZAbpo5UQ6rCWvkLYXT3EFvR0Vtsl6S_yKSLn9cNAFW4bijQauDocVjYm1cHYq4vl01vkWAtOQ_Mm3nHEg2sjoXjRktteyyVK9tJRWaPM3uQkte3q0x4ULlo52m7MRd814pCBYauO8WQFkYpX_IEbEahZ04EdnsNNgEClFTMYNha5cliPgYV4DL8s3MFK7x7IKQcftNZMaawu57dcCCWo24dB3FpklsoEy54vHE3D6NioOxGCdl7O29N1hs9lK4xtHw5yDtetx2LB2SzVh1HUzgKJ4RIXKDEJTT2hLjKhpiEHy5-_5CbTBGkPlC7kutKRTEOQfO1cFco9PJjWz2YYPDAQDb8SXkgqJXJO0EwU2owwkY41xHEh0fIcQu8lHF9ewydpiI1xM0LsrehYjhoaNLqBufdCgPe_oQuYkrlWTgk8XXg9GZ0vc6ssUMQu7ssXSSw0T8kCmiB4fvcYo7AYbReqv1OH6OXILkUtQj763TprSqqlCYNnL4SRdLMj6xayPg_4A3toAQoTBMRa4RbUit1HqCLW6qXmYOQ-RMI0BRvz0kQNgBNS_ITxlxlsBwCTnkc2Y80KPqC_6ivFg5bdcg3DBGvGML5fRChe6FjZg3FtvM2_mZHqUh__6G-kLWpVe1FA0jXBDqm2SqG-hgtPgZmDJ1iFJU7xSJ2_Qw1TcUZnxwLBsPK33pCfZR_uBPMwk7GfOfC_7g0dKumLITs30OD4yiTBw5PtHHaykcktzylqPdqFbq-UKCU4wHRJ2d2OvsUiH4MeZI-M7fAHqKUBYVdA0VCovsNWJCsGOp8XZ0MXMc6lP6IY8k8Gh6nl3-AheuZ-X6Bq7g6CC_Ls5u7eRXy_6bCaOjrAxXPUtsoxy0]--></g></svg>